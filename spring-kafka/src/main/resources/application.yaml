spring:
  kafka:
    producer:
      # Enable kafka transactions application-wide.
      transaction-id-prefix: 'tx-'
      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
    consumer:
      key-deserializer: org.apache.kafka.common.serialization.IntegerDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: java.util,java.lang,com.github.tomboyo.silverbroccoli.*
      # Only consume committed messages
      isolation-level: read_committed
      # Start from the beginning of the topic when joining for the first time
      auto-offset-reset: earliest